# WindowInsets í•™ìŠµ

## ì‚¬ì „ ì§€ì‹

ì´ ëª¨ë“ˆì„ í•™ìŠµí•˜ê¸° ì „ì— ë‹¤ìŒ ê°œë…ì„ ì´í•´í•˜ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

| ì‚¬ì „ ì§€ì‹ | ì„¤ëª… | ë°”ë¡œê°€ê¸° |
|----------|------|---------|
| `scaffold` | Scaffold ê¸°ë³¸ ì‚¬ìš©ë²•ê³¼ êµ¬ì¡° | [ğŸ“š í•™ìŠµí•˜ê¸°](../../structure/scaffold/README.md) |

> ğŸ’¡ ì„ í–‰ í•™ìŠµì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ìœ„ ë§í¬ë¥¼ ë¨¼ì € í•™ìŠµí•˜ì„¸ìš”.

---

## ê°œë…

**WindowInsets**ëŠ” ì‹œìŠ¤í…œ UI(ìƒíƒœë°”, ë„¤ë¹„ê²Œì´ì…˜ ë°”, í‚¤ë³´ë“œ ë“±)ê°€ í™”ë©´ì—ì„œ ì°¨ì§€í•˜ëŠ” ì˜ì—­ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” APIì…ë‹ˆë‹¤. ì•±ì´ ì‹œìŠ¤í…œ UI ë’¤ë¡œ ì½˜í…ì¸ ë¥¼ ê·¸ë¦´ ë•Œ(edge-to-edge) ì½˜í…ì¸ ê°€ ê°€ë ¤ì§€ì§€ ì•Šë„ë¡ **ì•ˆì „í•œ ì˜ì—­**ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.

## í•µì‹¬ íŠ¹ì§•

1. **Android 15 í•„ìˆ˜**: SDK 35 ì´ìƒ íƒ€ê²Ÿ ì‹œ edge-to-edgeê°€ ê°•ì œ ì ìš©ë¨
2. **ìë™ ì• ë‹ˆë©”ì´ì…˜**: IME(í‚¤ë³´ë“œ) ê´€ë ¨ insetsëŠ” API 21ê¹Œì§€ ìë™ ì• ë‹ˆë©”ì´ì…˜ ì§€ì›
3. **ë‹¤ì–‘í•œ ì•ˆì „ ì˜ì—­**: ìƒí™©ì— ë§ëŠ” ì—¬ëŸ¬ ì¢…ë¥˜ì˜ inset ìœ í˜• ì œê³µ
4. **Material 3 ìë™ ì²˜ë¦¬**: Material 3 ì»´í¬ë„ŒíŠ¸ëŠ” insetsë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬

---

## Edge-to-Edgeë€?

**Edge-to-Edge**ëŠ” ì•±ì´ í™”ë©´ì˜ ê°€ì¥ìë¦¬ê¹Œì§€ ì½˜í…ì¸ ë¥¼ ê·¸ë¦¬ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    [ìƒíƒœë°” ì˜ì—­]      â”‚ â† ê³¼ê±°: ì•±ì´ ì—¬ê¸° ì•„ë˜ì„œë§Œ ê·¸ë¦¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚
â”‚    ì•± ì½˜í…ì¸          â”‚
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [ë„¤ë¹„ê²Œì´ì…˜ ë°”]     â”‚ â† ê³¼ê±°: ì•±ì´ ì—¬ê¸° ìœ„ì—ì„œë§Œ ê·¸ë¦¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Edge-to-Edge ëª¨ë“œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–“â–“â–“[ìƒíƒœë°”]â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚ â† ì•±ì´ ì‹œìŠ¤í…œ ë°” "ë’¤ì—" ê·¸ë¦¼
â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚
â”‚ â–“â–“â–“ ì•± ì½˜í…ì¸  â–“â–“â–“â–“â–“â–“ â”‚
â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚
â”‚ â–“â–“â–“[ë„¤ë¹„ê²Œì´ì…˜ ë°”]â–“â–“â–“ â”‚ â† ì•±ì´ ì‹œìŠ¤í…œ ë°” "ë’¤ì—" ê·¸ë¦¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Android 15 (SDK 35) ì¤‘ìš” ë³€í™”

| ë²„ì „ | ê¸°ë³¸ ë™ì‘ |
|------|----------|
| Android 14 ì´í•˜ | ì•±ì´ ì‹œìŠ¤í…œ ë°” ì˜ì—­ ë°–ì— ê·¸ë ¤ì§ |
| **Android 15+** | **edge-to-edge ê°•ì œ ì ìš©** - ì•±ì´ ìë™ìœ¼ë¡œ ì‹œìŠ¤í…œ ë°” ë’¤ì— ê·¸ë ¤ì§ |

> **ì¤‘ìš”**: Android 15 ì´ìƒì„ íƒ€ê²ŸíŒ…í•˜ë©´ WindowInsets ì²˜ë¦¬ê°€ **í•„ìˆ˜**ì…ë‹ˆë‹¤!

### Material 2 vs Material 3

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | Inset ì²˜ë¦¬ |
|------------|-----------|
| Material 3 (`androidx.compose.material3`) | ìë™ ì²˜ë¦¬ |
| Material 2 (`androidx.compose.material`) | ìˆ˜ë™ ì²˜ë¦¬ í•„ìš” (`windowInsets` íŒŒë¼ë¯¸í„° ì‚¬ìš©) |

---

## ë¬¸ì œ ìƒí™©: Insetì„ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´?

### ì‹œë‚˜ë¦¬ì˜¤

ì±„íŒ… ì•±ì„ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤. Android 15 ê¸°ê¸°ì—ì„œ í…ŒìŠ¤íŠ¸í–ˆë”ë‹ˆ:
1. ì²« ë²ˆì§¸ ë©”ì‹œì§€ê°€ ìƒíƒœë°”ì— ê°€ë ¤ì ¸ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤
2. í•˜ë‹¨ì˜ ë©”ì‹œì§€ ì…ë ¥ì°½ì´ ë„¤ë¹„ê²Œì´ì…˜ ë°”ì— ê°€ë ¤ì§‘ë‹ˆë‹¤
3. í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¤ë©´ ì…ë ¥ì°½ì´ ì™„ì „íˆ ê°€ë ¤ì§‘ë‹ˆë‹¤

### ì˜ëª»ëœ ì½”ë“œ ì˜ˆì‹œ

#### 1. ì½˜í…ì¸ ê°€ ìƒíƒœë°”ì— ê°€ë ¤ì§
```kotlin
// ì˜ëª»ëœ ì½”ë“œ - inset ì²˜ë¦¬ ì—†ìŒ
Column {
    Text("ì´ í…ìŠ¤íŠ¸ëŠ” ìƒíƒœë°” ë’¤ì— ìˆ¨ê²¨ì§‘ë‹ˆë‹¤!")
}
```

#### 2. ë²„íŠ¼ì´ ë„¤ë¹„ê²Œì´ì…˜ ë°”ì— ê°€ë ¤ì§
```kotlin
// ì˜ëª»ëœ ì½”ë“œ - í•˜ë‹¨ ë²„íŠ¼ì´ ë„¤ë¹„ê²Œì´ì…˜ ë°”ì— ê°€ë ¤ì§
Box(Modifier.fillMaxSize()) {
    Button(
        modifier = Modifier.align(Alignment.BottomCenter)
    ) {
        Text("í´ë¦­í•  ìˆ˜ ì—†ìŒ!")  // ë„¤ë¹„ê²Œì´ì…˜ ë°”ì— ê°€ë ¤ì§
    }
}
```

#### 3. TextFieldê°€ í‚¤ë³´ë“œì— ê°€ë ¤ì§
```kotlin
// ì˜ëª»ëœ ì½”ë“œ - í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¤ë©´ TextFieldê°€ ì•ˆ ë³´ì„
Column {
    Spacer(Modifier.weight(1f))
    TextField(...)  // í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¤ë©´ ë³´ì´ì§€ ì•ŠìŒ!
}
```

### ë°œìƒí•˜ëŠ” ë¬¸ì œì 

1. **ì‚¬ìš©ì„± ì €í•˜**: ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í•  ìˆ˜ ì—†ê±°ë‚˜ í…ìŠ¤íŠ¸ë¥¼ ì½ì„ ìˆ˜ ì—†ìŒ
2. **ì ‘ê·¼ì„± ë¬¸ì œ**: ìŠ¤í¬ë¦° ë¦¬ë” ì‚¬ìš©ìê°€ ê°€ë ¤ì§„ ì½˜í…ì¸ ì— ì ‘ê·¼ ë¶ˆê°€
3. **UX ì¼ê´€ì„±**: ê¸°ê¸°ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ë³´ì´ëŠ” ë ˆì´ì•„ì›ƒ

---

## í•´ê²°ì±…: WindowInsets í™œìš©

### ë°©ë²• 1: Scaffold ì‚¬ìš© (ê°€ì¥ ê¶Œì¥)

ScaffoldëŠ” ìë™ìœ¼ë¡œ WindowInsetsë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```kotlin
Scaffold { paddingValues ->
    LazyColumn(
        contentPadding = paddingValues  // ìë™ìœ¼ë¡œ insets ì²˜ë¦¬
    ) {
        items(100) { Text("ì•„ì´í…œ $it") }
    }
}
```

**í•´ê²°ë˜ëŠ” ì´ìœ **: Scaffoldê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì‹œìŠ¤í…œ ë°” ì˜ì—­ì„ ê³„ì‚°í•˜ì—¬ `paddingValues`ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤. ì´ ê°’ì„ `contentPadding`ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ì²« ë²ˆì§¸/ë§ˆì§€ë§‰ ì•„ì´í…œì´ ì‹œìŠ¤í…œ ë°”ì— ê°€ë ¤ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.

### ë°©ë²• 2: safeDrawingPadding() ì‚¬ìš©

```kotlin
Column(
    modifier = Modifier
        .fillMaxSize()
        .safeDrawingPadding()  // ì‹œìŠ¤í…œ UI í”¼í•¨
) {
    Text("ì•ˆì „í•˜ê²Œ í‘œì‹œë¨")
}
```

**í•´ê²°ë˜ëŠ” ì´ìœ **: `safeDrawingPadding()`ì€ ì‹œìŠ¤í…œ UI(ìƒíƒœë°”, ë„¤ë¹„ê²Œì´ì…˜ ë°”, ë””ìŠ¤í”Œë ˆì´ ì»·ì•„ì›ƒ ë“±)ì™€ ê²¹ì¹˜ì§€ ì•ŠëŠ” ì•ˆì „í•œ ì˜ì—­ë§Œí¼ íŒ¨ë”©ì„ ìë™ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.

### ë°©ë²• 3: windowInsetsPadding() ì§ì ‘ ì‚¬ìš©

```kotlin
Column(
    modifier = Modifier
        .fillMaxSize()
        .windowInsetsPadding(WindowInsets.systemBars)
) {
    Text("ìƒíƒœë°”ì™€ ë„¤ë¹„ê²Œì´ì…˜ ë°” í”¼í•¨")
}
```

**í•´ê²°ë˜ëŠ” ì´ìœ **: íŠ¹ì • inset ìœ í˜•ë§Œ ì„ íƒì ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆì–´ ì„¸ë°€í•œ ì œì–´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ë°©ë²• 4: í‚¤ë³´ë“œ(IME) ì²˜ë¦¬

```kotlin
Column(
    modifier = Modifier
        .fillMaxSize()
        .imePadding()  // í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¤ë©´ ìë™ íŒ¨ë”©
) {
    Spacer(Modifier.weight(1f))
    TextField(...)  // í‚¤ë³´ë“œ ìœ„ì— í‘œì‹œë¨!
}
```

**í•´ê²°ë˜ëŠ” ì´ìœ **: `imePadding()`ì€ í‚¤ë³´ë“œ ë†’ì´ë§Œí¼ í•˜ë‹¨ íŒ¨ë”©ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤. í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¤ê³  ë‚´ë ¤ê°ˆ ë•Œ ì• ë‹ˆë©”ì´ì…˜ë„ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤.

---

## í•µì‹¬ Inset ìœ í˜•

### "Safe" Inset ìœ í˜• (ê¶Œì¥)

| Inset | ìš©ë„ |
|-------|------|
| `safeDrawing` | ì‹œìŠ¤í…œ UIì™€ **ì‹œê°ì  ê²¹ì¹¨ ë°©ì§€** (ê°€ì¥ ë§ì´ ì‚¬ìš©) |
| `safeGestures` | **ì œìŠ¤ì²˜ ì¶©ëŒ ë°©ì§€** (ì‹œìŠ¤í…œ ìŠ¤ì™€ì´í”„ ì˜ì—­) |
| `safeContent` | safeDrawing + safeGestures (ê°€ì¥ ì•ˆì „) |

### ê°œë³„ Inset ìœ í˜•

| Inset | ìš©ë„ |
|-------|------|
| `statusBars` | ìƒíƒœë°” ì˜ì—­ (ìƒë‹¨) |
| `navigationBars` | ë„¤ë¹„ê²Œì´ì…˜ ë°” ì˜ì—­ (í•˜ë‹¨/ì¸¡ë©´) |
| `systemBars` | statusBars + navigationBars |
| `ime` | ì†Œí”„íŠ¸ì›¨ì–´ í‚¤ë³´ë“œ ì˜ì—­ |
| `displayCutout` | ë…¸ì¹˜/í€ì¹˜í™€ ì˜ì—­ |

---

## í•µì‹¬ Modifier ì •ë¦¬

| Modifier | ì—­í•  |
|----------|------|
| `safeDrawingPadding()` | ëª¨ë“  ì‹œìŠ¤í…œ UI í”¼í•¨ (ê¶Œì¥) |
| `safeContentPadding()` | ì‹œìŠ¤í…œ UI + ì œìŠ¤ì²˜ ì˜ì—­ í”¼í•¨ |
| `systemBarsPadding()` | ìƒíƒœë°” + ë„¤ë¹„ê²Œì´ì…˜ ë°”ë§Œ |
| `statusBarsPadding()` | ìƒíƒœë°”ë§Œ |
| `navigationBarsPadding()` | ë„¤ë¹„ê²Œì´ì…˜ ë°”ë§Œ |
| `imePadding()` | í‚¤ë³´ë“œë§Œ |
| `windowInsetsPadding(insets)` | ì»¤ìŠ¤í…€ inset ì§€ì • |

---

## Inset ê°’ ì½ê¸°

```kotlin
val statusBarHeight = WindowInsets.statusBars
    .asPaddingValues()
    .calculateTopPadding()

val navBarHeight = WindowInsets.navigationBars
    .asPaddingValues()
    .calculateBottomPadding()

val imeHeight = WindowInsets.ime
    .asPaddingValues()
    .calculateBottomPadding()
```

---

## ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë¦¬ìŠ¤íŠ¸ í™”ë©´
```kotlin
// Scaffold + LazyColumn ì¡°í•©
Scaffold { paddingValues ->
    LazyColumn(contentPadding = paddingValues) {
        items(items) { ItemRow(it) }
    }
}
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì±„íŒ… í™”ë©´ (í‚¤ë³´ë“œ ëŒ€ì‘)
```kotlin
Column(Modifier.fillMaxSize().imePadding()) {
    LazyColumn(Modifier.weight(1f)) { /* ë©”ì‹œì§€ ëª©ë¡ */ }
    ChatInputField()  // í‚¤ë³´ë“œê°€ ì˜¬ë¼ì™€ë„ ë³´ì„
}
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì „ì²´ í™”ë©´ ì´ë¯¸ì§€
```kotlin
Box(Modifier.fillMaxSize()) {
    Image(...)  // ì „ì²´ í™”ë©´ì— ê·¸ë¦¼
    // ì»¨íŠ¸ë¡¤ì€ ì•ˆì „ ì˜ì—­ì— ë°°ì¹˜
    Row(Modifier.safeDrawingPadding()) {
        BackButton()
        ShareButton()
    }
}
```

---

## ì£¼ì˜ì‚¬í•­

1. **Modifier ìˆœì„œê°€ ì¤‘ìš”**
   ```kotlin
   // ì˜¬ë°”ë¥¸ ìˆœì„œ
   Modifier
       .safeDrawingPadding()  // ë¨¼ì € ì‹œìŠ¤í…œ ë°” ì²˜ë¦¬
       .imePadding()          // ê·¸ ë‹¤ìŒ í‚¤ë³´ë“œ ì²˜ë¦¬
   ```

2. **Scaffoldì™€ ì¤‘ë³µ ì‚¬ìš© ì£¼ì˜**
   - Scaffold ë‚´ë¶€ì—ì„œ `safeDrawingPadding()` ì‚¬ìš© ì‹œ íŒ¨ë”©ì´ ë‘ ë²ˆ ì ìš©ë¨
   - Scaffold ì‚¬ìš© ì‹œ `paddingValues`ë§Œ ì‚¬ìš©

3. **enableEdgeToEdge() í˜¸ì¶œ í•„ìˆ˜**
   ```kotlin
   class MainActivity : ComponentActivity() {
       override fun onCreate(savedInstanceState: Bundle?) {
           super.onCreate(savedInstanceState)
           enableEdgeToEdge()  // ì´ í˜¸ì¶œì´ ìˆì–´ì•¼ insetsê°€ ì œëŒ€ë¡œ ë™ì‘
           setContent { ... }
       }
   }
   ```

4. **ì„ì‹œ Opt-out (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)**
   - `windowOptOutEdgeToEdgeEnforcement` ì†ì„±ìœ¼ë¡œ ì¼ì‹œì  ë¹„í™œì„±í™” ê°€ëŠ¥
   - SDK 36ì—ì„œ ì œê±° ì˜ˆì •ì´ë¯€ë¡œ ì‚¬ìš© ë¹„ê¶Œì¥

---

## ì—°ìŠµ ë¬¸ì œ

### ì—°ìŠµ 1: ê¸°ë³¸ (safeDrawingPadding ì ìš©)
Boxì— `safeDrawingPadding()` ì ìš©í•˜ê¸°

### ì—°ìŠµ 2: ì¤‘ê¸‰ (í‚¤ë³´ë“œ ëŒ€ì‘)
í•˜ë‹¨ TextFieldì— `imePadding()` ì ìš©í•˜ì—¬ í‚¤ë³´ë“œ ëŒ€ì‘

### ì—°ìŠµ 3: ê³ ê¸‰ (Scaffold í™œìš©)
Scaffoldë¡œ TopAppBarê°€ ìˆëŠ” ë¦¬ìŠ¤íŠ¸ í™”ë©´ ë§Œë“¤ê¸°

---

## ë‹¤ìŒ í•™ìŠµ

- Gesture ì²˜ë¦¬ (pointerInput, draggable)
- Canvas & Graphics
